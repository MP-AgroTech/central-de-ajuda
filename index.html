<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Central de Ajuda ‚Äî MP Agrotech</title>
  <style>
    body{margin:0;font-family:Inter,system-ui;background:#f4f4f4;color:#222}
    header{background:#000;padding:40px 20px;text-align:center;color:#fff;position:relative}
    header img{width:200px;margin-bottom:20px}
    .searchbar{max-width:600px;margin:0 auto;display:flex;background:#fff;border-radius:40px;padding:10px 20px;align-items:center;box-shadow:0 4px 12px rgba(0,0,0,0.2)}
    .searchbar input{flex:1;border:none;font-size:16px;outline:none}
    main{padding:40px;max-width:1100px;margin:auto}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:20px}
    .card{background:#fff;border-radius:14px;padding:20px;box-shadow:0 2px 6px rgba(0,0,0,0.1);cursor:pointer;transition:.2s}
    .card:hover{transform:scale(1.02);box-shadow:0 4px 12px rgba(0,0,0,0.18)}
    .card h3{margin:0 0 8px}
    .showall{display:block;margin:20px auto 0;text-align:center;padding:10px 20px;background:#fff;border:1px solid #ccc;border-radius:8px;cursor:pointer}
  </style>
</head>

<body>
<header>
  <div style="position:absolute;left:20px;top:15px;">
    <div style="display:inline-block;background:#0b5fff;color:#fff;padding:6px 14px;border-radius:8px;font-size:12px;font-weight:600;box-shadow:0 2px 6px rgba(0,0,0,0.25);">
      Atualizado: <strong>14/01/2026</strong>
    </div>
  </div>

  <img src="https://i.postimg.cc/52752S30/Whats-App-Image-2025-12-03-at-20-26-42.jpg" />

  <div class="searchbar">
    <input id="q" placeholder="Digite sua d√∫vida..." oninput="filter()" />
  </div>

  <button class="showall" onclick="resetSearch()">Listar todas as d√∫vidas</button>
</header>

<main>
  <div class="grid" id="cards">

    <div class="card" data-text="exmpimp sped exporta√ß√£o" onclick="openDetail('d1')">
      <h3>EXMPIMP ‚Äì Exporta√ß√£o n√£o aparece no SPED</h3>
      <p>Exporta√ß√£o n√£o aparece no SPED ap√≥s executar o exmpimp.</p>
    </div>

    <div class="card" data-text="reag culturas erro configura√ß√£o" onclick="openDetail('d2')">
      <h3>REAG ‚Äì Falha para todas as culturas</h3>
      <p>Falha ao executar REAG em qualquer cultura.</p>
    </div>

    <div class="card" data-text="usu√°rios criar cadastro senha" onclick="openDetail('d3')">
      <h3>Cria√ß√£o de Usu√°rios</h3>
      <p>Procedimento para criar usu√°rios no VIASOFT3C.</p>
    </div>

    <div class="card" data-text="cheques estorno situa√ß√£o aberto" onclick="openDetail('d4')">
      <h3>Cheques ‚Äì Estorno</h3>
      <p>Erro ao excluir cheque pois n√£o est√° em situa√ß√£o ABERTO.</p>
    </div>

    <div class="card" data-text="lote xml qlote quantidade" onclick="openDetail('d5')">
      <h3>Lote no XML</h3>
      <p>QLote exibindo quantidade fabricada em vez da vendida.</p>
    </div>

    <div class="card" data-text="reag base atualiza√ß√£o" onclick="openDetail('d7')">
      <h3>Atualiza√ß√£o da Base REAG</h3>
      <p>Como atualizar a base via arquivos.</p>
    </div>

    <div class="card" data-text="pedido nota v√≠nculo peditemnfitem" onclick="openDetail('d8')">
      <h3>Pedido n√£o vinculado √† nota</h3>
      <p>Pedido n√£o vincula automaticamente √† NF.</p>
    </div>

    <div class="card" data-text="comiss√£o renegocia√ß√£o t√≠tulos" onclick="openDetail('d9')">
      <h3>Comiss√£o para Renegocia√ß√µes</h3>
      <p>Comiss√£o n√£o gerada em t√≠tulos renegociados.</p>
    </div>

    <div class="card" data-text="erro impostos nota tributa√ß√£o" onclick="openDetail('d10')">
      <h3>Erro de Impostos na Nota</h3>
      <p>Erro ao lan√ßar nota fiscal.</p>
    </div>

    <div class="card" data-text="campos obrigat√≥rios person" onclick="openDetail('d11')">
      <h3>Campos Obrigat√≥rios</h3>
      <p>Como marcar um campo como obrigat√≥rio.</p>
    </div>

    <div class="card" data-text="monitor cte nfe n√£o buscando informa√ß√µes certificado digital portal doc agendador tarefas" onclick="openDetail('d12')">
      <h3>Monitor CT-e e NF-e n√£o buscando informa√ß√µes</h3>
      <p>Verifica√ß√µes essenciais para funcionamento correto.</p>
    </div>

    <div class="card" data-text="dfe porta uso j√° em uso erro porta ocupada conex√µes op√ß√µes 300 301 9090" onclick="openDetail('d13')">
      <h3>DF-e informando porta j√° em uso</h3>
      <p>Como resolver conflito de portas no DF-e.</p>
    </div>

    <div class="card" data-text="danfe diferente xml configura√ß√£o danfe" onclick="openDetail('d14')">
      <h3>DANFE diferente do XML</h3>
      <p>DANFE n√£o est√° saindo conforme os dados do XML.</p>
    </div>

    <div class="card" data-text="arquivos sistema abrir bloco notas notepad padr√£o" onclick="openDetail('d15')">
      <h3>Arquivos do Sistema</h3>
      <p>Sempre abrir arquivos do sistema com o Bloco de Notas.</p>
    </div>

    <!-- üÜï NOVO CARD -->
    <div class="card" data-text="sig altera√ß√£o c√≥digo siape siapi reag configura√ß√µes" onclick="openDetail('d16')">
      <h3>SIG@ ‚Äì Altera√ß√£o do C√≥digo SIAPE</h3>
      <p>Como alterar o c√≥digo SIAPE no REAG.</p>
    </div>
	
	<div class="card" data-text="custos produto custo zerado estoque recalculo estabs sincroniza√ß√£o" onclick="openDetail('d17')">
  <h3>CUSTOS ‚Äì Produto com custo zerado</h3>
  <p>Produto sem custo ap√≥s movimenta√ß√µes no estoque.</p>
</div>
<div class="card" data-text="atualiza√ß√£o crm crm-web atualizador glassfish undeploy localhost 4848" onclick="openDetail('d18')">
  <h3>Atualiza√ß√£o ‚Äì CRM</h3>
  <p>Procedimento para atualiza√ß√£o do CRM-Web.</p>
</div>
<div class="card" data-text="c√°lculo custo pre√ßo produtos cerati custo m√©dio margem lucro estoque" onclick="openDetail('d19')">
  <h3>Como o sistema calcula o custo e o pre√ßo dos produtos ‚Äì CERATI</h3>
  <p>Entenda de forma simples como o sistema chega ao pre√ßo final de venda.</p>
</div>


  </div>
</main>

<!-- MODAL -->
<div id="detailModal" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);backdrop-filter:blur(4px);justify-content:center;align-items:center;padding:20px;">
  <div style="background:#fff;max-width:700px;width:100%;border-radius:12px;padding:30px;position:relative;max-height:90vh;overflow:auto;">
    <button onclick="closeDetail()" style="position:absolute;right:20px;top:20px;font-size:20px;background:none;border:none;cursor:pointer">‚úñ</button>
    <div id="detailContent"></div>
  </div>
</div>

<script>
const details = {
d1:`<h2>EXMPIMP ‚Äì Exporta√ß√£o n√£o aparece no SPED</h2>
     <ol>
       <li>Reiniciar o <strong>XE</strong>;</li>
       <li>Reiniciar os <strong>servi√ßos fiscais</strong>;</li>
       <li>Reiniciar o servi√ßo <strong>ActiveMQ</strong>;</li>
       <li>Ap√≥s a reinicializa√ß√£o, executar novamente o <strong>EXMPIMP</strong>;</li>
       <li>Validar se a <strong>exporta√ß√£o passou a aparecer no SPED</strong>.</li>
     </ol>`,
  d2:`<h2>REAG ‚Äì Falha para todas as culturas</h2><p>Marcar exibi√ß√£o do 226.328.</p>`,
d3:`<h2>Cria√ß√£o de Usu√°rios</h2>
     <ol>
       <li>Acessar o <strong>VIASOFT3C</strong> e ir em <strong>Configura√ß√µes &gt; Usu√°rios &gt; Cadastro de Usu√°rios</strong>;</li>
       <li>Criar um <strong>novo usu√°rio</strong> e definir as <strong>permiss√µes de acesso</strong> conforme a necessidade;</li>
       <li>Para definir a <strong>senha</strong>, clique nos <strong>tr√™s risquinhos</strong> no canto superior esquerdo e informe uma <strong>senha provis√≥ria</strong>.</li>
     </ol>`,

d4:`<h2>Cheques ‚Äì Estorno</h2>
     <ol>
       <li>Ao tentar realizar um estorno de cheque e;</li>
       <li>Se o sistema n√£o permitir, verifique a <strong>situa√ß√£o do cheque</strong>;</li>
       <li>O cheque <strong>n√£o pode estar com a situa√ß√£o ABERTO</strong>;</li>
       <li>Altere a situa√ß√£o e tente realizar o estorno novamente.</li>
     </ol>`,

  d5:`<h2>Lote no XML</h2><p>Zerar quantidade total de lotes.</p>`,
  d7:`<h2>Atualiza√ß√£o da Base REAG</h2>
        <ol>
           <li>Acesse o <strong>REAG</strong>;</li>
           <li>No menu principal, clique em <strong>Atualiza√ß√µes</strong>;</li>
           <li>Selecione a op√ß√£o <strong>Atualizar via arquivos</strong>;</li>
           <li>Clique em <strong>Download dos arquivos</strong>;</li>
           <li>Ap√≥s o download, utilize a op√ß√£o <strong>Importar</strong> para concluir a atualiza√ß√£o.</li>
        </ol>`,
  d8:`<h2>Pedido n√£o vinculado √† Nota</h2>
        <ol>
              <li>Acesse o <strong>banco de dados</strong> do sistema;</li>
              <li>Verifique se existe registro na tabela <strong>peditemnfitem</strong>;</li>
              <li>Caso <strong>n√£o exista</strong>, ser√° necess√°rio <strong>criar o registro </strong>correspondente ao v√≠nculo entre o pedido e a nota;</li>
              <li>Caso <strong>j√° exista</strong>, realize <strong>outras verifica√ß√µes</strong>,como consist√™ncia de dados e relacionamentos entre pedido e NF.</li>
        </ol>`,
  d9:`<h2>Comiss√£o para Renegocia√ß√µes</h2><p>Habilitar altera√ß√£o de comiss√£o.</p>`,
d10:`<h2>Erro de Impostos na Nota Fiscal</h2>
     <ol>
       <li>Abrir o <strong>item</strong> e verificar em qual <strong>tributa√ß√£o</strong> ele est√° configurado 
           (<strong>Item &gt; Tributa√ß√£o &gt; Tributa√ß√£o</strong>);</li>
       <li>Abrir a <strong>tributa√ß√£o</strong> e localizar a <strong>regra</strong> na qual o item se enquadra,
           verificando de <strong>qual estado</strong> o item est√° saindo e para <strong>qual estado</strong> a nota est√° sendo emitida;</li>
       <li>Conferir toda a <strong>regra de tributa√ß√£o</strong>, validando:
         <ul>
           <li>Se a <strong>natureza da opera√ß√£o</strong> est√° vinculada √† regra;</li>
           <li>Se a <strong>pessoa</strong> est√° configurada como <strong>associada</strong> ou <strong>consumidor final</strong>;</li>
           <li>Se existe <strong>CST</strong> configurado corretamente na regra.</li>
         </ul>
       </li>
     </ol>`,
  d11:`<h2>Campos Obrigat√≥rios</h2>
         <ol>
              <li>Acesse o <strong>PERSON</strong>;</li>
              <li>Localize a <strong>tabela</strong> onde o campo/coluna est√° cadastrado;</li>
              <li>Selecione a <strong>coluna</strong> desejada;</li>
              <li>Marque a coluna como <strong>Obrigat√≥ria</strong>;</li>
              <li>Salve as altera√ß√µes e valide o funcionamento.</li>
        </ol>`,
  d12:`<h2>Monitor CT-e e NF-e n√£o buscando informa√ß√µes</h2>
         <ol>
             <li>Acesse as <strong>Configura√ß√µes do Agro</strong>;</li>
             <li>Valide as configura√ß√µes do <strong>Portal DOC</strong>;</li>
             <li>Acesse o <strong>VIASOFT3C</strong>;</li>
             <li>Valide o <strong>Certificado Digital</strong> no VIASOFT3C;</li>
             <li>Confirme tamb√©m o <strong>Certificado Digital</strong> nas configura√ß√µes do Agro;</li>
             <li>Retorne a <strong>sequ√™ncia do NSU</strong>;</li>
             <li>Realize um novo teste de busca no monitor.</li>
        </ol>`,
d13:`<h2>DF-e ‚Äì Porta em uso</h2>
     <ol>
       <li>Abrir o <strong>Gerenciador de Tarefas</strong> do Windows;</li>
       <li>Localizar o processo relacionado ao <strong>DF-e</strong>;</li>
       <li><strong>Encerrar o processo</strong> do DF-e;</li>
       <li>Caso o erro persista, acessar as <strong>configura√ß√µes do DF-e</strong>;</li>
       <li>Alterar o <strong>n√∫mero da porta</strong> utilizada (ex.: 300, 301, 9090);</li>
       <li>Salvar as altera√ß√µes e reiniciar o <strong>DF-e</strong>.</li>
     </ol>`,
  d14:`<h2>DANFE diferente do XML</h2><p>Marcar DANFE sair igual ao XML.</p>`,
  d15:`<h2>Arquivos do Sistema</h2><p>Sempre abrir com Bloco de Notas.</p>`,
  d16:`<h2>SIG@ ‚Äì Altera√ß√£o do C√≥digo SIAPE</h2>
       <ol>
         <li>Acesse <strong>REAG &gt; Configura√ß√µes &gt; Configura√ß√µes &gt; REAG</strong>;</li>
         <li>Localize o campo <strong>Registro SIAPI</strong>;</li>
         <li>Altere o c√≥digo conforme necess√°rio;</li>
         <li>Salve as altera√ß√µes.</li>
       </ol>`,
d17:`<h2>CUSTOS ‚Äì Produto com custo zerado</h2>

     <ol>
       <li>Verifique se existem <strong>v√°rios estabs</strong> cadastrados;</li>
       <li>Confirme se est√° habilitada a op√ß√£o de <strong>sincroniza√ß√£o de custos entre os estabs</strong>;</li>
       <li>Caso esteja habilitado, verifique se existe <strong>movimenta√ß√£o para o item</strong> em 
           <strong>Estoque &gt; Custo &gt; Recalculo</strong>;</li>
       <li>Execute o <strong>recalculo de custos</strong>;</li>
       <li>Ap√≥s o recalculo, valide se o <strong>custo foi gerado corretamente</strong>.</li>
     </ol>

     <h3>Outra verifica√ß√£o</h3>
     <ol>
       <li>Verificar se existem <strong>notas de compra</strong> para o item;</li>
       <li>Verificar se as <strong>notas de compra</strong> ou <strong>transfer√™ncia (entrada)</strong> est√£o com o <strong>valor unit√°rio</strong> informado;</li>
       <li>Caso n√£o estejam, o valor poder√° ser inclu√≠do diretamente na <strong>tabela nfitem</strong>.</li>
     </ol>`,
d18:`<h2>Atualiza√ß√£o ‚Äì CRM</h2>
     <ol>
       <li>Solicitar o <strong>link do atualizador</strong> ao Luiz;</li>
       <li>Acessar o endere√ßo <strong>localhost:4848</strong> e realizar o login com usu√°rio e senha;</li>
       <li>No menu <strong>Application</strong>, localizar e <strong>excluir (Undeploy)</strong> a aplica√ß√£o <strong>CRM-WEB</strong>;</li>
       <li>Incluir o <strong>novo atualizador</strong>, renomeando a aplica√ß√£o para <strong>CRM-WEB</strong>;</li>
       <li>Acessar o menu <strong>Server (Admin)</strong> e <strong>reiniciar o servi√ßo</strong>;</li>
       <li>Acessar o <strong>CRM</strong> e realizar os testes.</li>
     </ol>`,
	 d19:`<h2>Como o sistema calcula o custo e o pre√ßo dos produtos ‚Äì CERATI</h2>

     <p>
       O sistema pega o <strong>valor da compra</strong>, ajusta pelo <strong>prazo de pagamento</strong>,
       considera o <strong>estoque que j√° existe</strong>, soma alguns <strong>acr√©scimos</strong> e depois
       aplica a <strong>margem de lucro</strong>.
       <br><br>
       üëâ O resultado √© o <strong>pre√ßo final de venda</strong>.
     </p>

     <h3>üìä Infogr√°fico em texto ‚Äî como o c√°lculo funciona</h3>
     <pre style="font-family:inherit">
Pedido de Compra
      ‚Üì
Valor da Compra
      ‚Üì
Ajuste pelo Prazo de Pagamento
      ‚Üì
C√°lculo do Custo (considera estoque)
      ‚Üì
Acr√©scimos do Produto
      ‚Üì
Aplica√ß√£o da Margem de Lucro
      ‚Üì
Pre√ßo Final de Venda
     </pre>

     <h3>üß© Explica√ß√£o passo a passo (bem f√°cil)</h3>

     <h4>1Ô∏è‚É£ Pedido de compra</h4>
     <p>
       Quando uma compra √© lan√ßada, o valor da compra vira o <strong>custo inicial</strong> do produto.
     </p>
     <p>
       üëâ Exemplo:<br>
       Compra = R$ 100,00<br>
       Custo inicial = R$ 100,00
     </p>

     <h4>2Ô∏è‚É£ Ajuste pelo prazo de pagamento</h4>
     <p>
       Se a compra n√£o √© paga √† vista, o sistema realiza um <strong>ajuste pelo prazo</strong>.
       Prazo maior pode <strong>aumentar ou reduzir</strong> o custo, corrigindo o valor pelo tempo.
     </p>
     <p>
       üëâ Exemplo:<br>
       Custo: R$ 100,00<br>
       Ajuste de +3%<br>
       Novo custo = R$ 103,00
     </p>

     <h4>3Ô∏è‚É£ Estoque j√° existente</h4>
     <p>
       Caso o produto j√° exista em estoque, o sistema <strong>n√£o substitui o custo</strong>.
       Ele calcula um <strong>custo m√©dio</strong> entre o valor antigo e o novo.
     </p>
     <p>
       üëâ Exemplo:<br>
       Custo antigo: R$ 95,00<br>
       Novo custo: R$ 103,00<br>
       Custo m√©dio = R$ 99,00
     </p>

     <h4>4Ô∏è‚É£ Acr√©scimos do produto</h4>
     <p>
       Alguns produtos possuem <strong>acr√©scimos configurados</strong>, como taxas ou ajustes adicionais,
       que s√£o somados ao custo.
     </p>
     <p>
       üëâ Exemplo:<br>
       Custo: R$ 99,00<br>
       Acr√©scimos: 6%<br>
       Novo custo = R$ 104,94
     </p>

     <h4>5Ô∏è‚É£ Margem de lucro</h4>
     <p>
       Por fim, o sistema aplica a <strong>margem de lucro</strong> configurada para o produto,
       chegando ao pre√ßo final de venda.
     </p>
     <p>
       üëâ Exemplo:<br>
       Custo final: R$ 104,94<br>
       Margem: 30%<br>
       Pre√ßo de venda = R$ 136,42
     </p>`,


};

function openDetail(id){
  document.getElementById('detailContent').innerHTML = details[id];
  document.getElementById('detailModal').style.display='flex';
}
function closeDetail(){
  document.getElementById('detailModal').style.display='none';
}
function filter(){
  let q=document.getElementById('q').value.toLowerCase();
  document.querySelectorAll('.card').forEach(c=>{
    c.style.display=c.dataset.text.includes(q)?'block':'none';
  });
}
function resetSearch(){
  document.getElementById('q').value='';
  filter();
}
</script>

</body>
</html>
